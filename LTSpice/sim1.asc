Version 4
SHEET 1 2224 1216
WIRE -1072 -848 -1072 -864
WIRE -864 -848 -1072 -848
WIRE -768 -848 -864 -848
WIRE -736 -848 -768 -848
WIRE -864 -832 -864 -848
WIRE -1072 -816 -1072 -848
WIRE -768 -768 -768 -848
WIRE -864 -736 -864 -752
WIRE -864 -736 -912 -736
WIRE -784 -736 -864 -736
WIRE -656 -736 -720 -736
WIRE -560 -736 -656 -736
WIRE -528 -736 -560 -736
WIRE -1072 -720 -1072 -736
WIRE -944 -720 -1072 -720
WIRE -944 -704 -944 -720
WIRE -912 -688 -912 -736
WIRE -864 -688 -864 -736
WIRE -656 -688 -656 -736
WIRE -560 -656 -560 -736
WIRE -1072 -592 -1072 -640
WIRE -912 -592 -912 -624
WIRE -912 -592 -1072 -592
WIRE -864 -592 -864 -608
WIRE -864 -592 -912 -592
WIRE -752 -592 -752 -704
WIRE -752 -592 -864 -592
WIRE -656 -592 -656 -624
WIRE -656 -592 -752 -592
WIRE -1072 -576 -1072 -592
WIRE 784 -496 720 -496
WIRE 1024 -496 864 -496
WIRE 1216 -496 1024 -496
WIRE 1376 -496 1296 -496
WIRE -208 -480 -272 -480
WIRE 32 -480 -128 -480
WIRE 224 -480 32 -480
WIRE 384 -480 304 -480
WIRE 720 -480 720 -496
WIRE -272 -464 -272 -480
WIRE 1024 -416 1024 -496
WIRE 32 -400 32 -480
WIRE 112 -208 -144 -208
WIRE 224 -208 112 -208
WIRE 384 -208 384 -480
WIRE 384 -208 304 -208
WIRE -224 -192 -224 -208
WIRE 112 -128 112 -208
WIRE 176 -112 176 -144
WIRE 176 -112 160 -112
WIRE -528 -16 -528 -48
WIRE 624 -16 624 -64
WIRE 768 -16 624 -16
WIRE -368 0 -368 -48
WIRE -224 0 -368 0
WIRE 32 0 32 -320
WIRE 32 0 -144 0
WIRE 112 0 112 -48
WIRE 112 0 32 0
WIRE 624 48 624 -16
WIRE 1376 48 1376 -496
WIRE 1376 48 1136 48
WIRE -368 64 -368 0
WIRE 144 64 -16 64
WIRE 240 64 144 64
WIRE 384 64 384 -208
WIRE 384 64 320 64
WIRE 1136 64 1136 48
WIRE 144 80 144 64
WIRE 1024 160 1024 -336
WIRE 1136 160 1136 144
WIRE 1136 160 1024 160
WIRE 1168 160 1136 160
WIRE 1200 160 1168 160
WIRE 1376 160 1376 48
WIRE 1376 160 1264 160
WIRE 32 176 32 0
WIRE 144 176 144 160
WIRE 144 176 32 176
WIRE 208 176 144 176
WIRE 384 176 384 64
WIRE 384 176 272 176
WIRE 1232 272 1232 256
WIRE 256 288 256 272
WIRE 1168 288 1168 160
WIRE 1200 288 1168 288
WIRE 32 304 32 176
WIRE 224 304 32 304
WIRE 1376 304 1376 160
WIRE 1376 304 1264 304
WIRE 1392 304 1376 304
WIRE 1520 304 1472 304
WIRE 1664 304 1520 304
WIRE 1776 304 1664 304
WIRE 1920 304 1776 304
WIRE 2112 304 1920 304
WIRE 2128 304 2112 304
WIRE 384 320 384 176
WIRE 384 320 288 320
WIRE 1200 320 384 320
WIRE 224 336 192 336
WIRE -608 352 -656 352
WIRE -512 352 -608 352
WIRE -416 352 -432 352
WIRE -384 352 -416 352
WIRE -256 352 -304 352
WIRE -160 352 -256 352
WIRE 32 352 -160 352
WIRE 64 352 32 352
WIRE 192 352 192 336
WIRE 192 352 144 352
WIRE 1664 352 1664 304
WIRE 1920 352 1920 304
WIRE 1232 368 1232 336
WIRE 256 384 256 352
WIRE -416 400 -416 352
WIRE -256 400 -256 352
WIRE 32 400 32 352
WIRE -656 416 -656 352
WIRE 1520 432 1520 304
WIRE 1552 432 1520 432
WIRE 1776 432 1776 304
WIRE 1808 432 1776 432
WIRE -160 448 -160 352
WIRE -128 448 -160 448
WIRE 144 448 96 448
WIRE 1664 448 1664 416
WIRE 1664 448 1616 448
WIRE 1920 448 1920 416
WIRE 1920 448 1872 448
WIRE 1504 464 1440 464
WIRE 1552 464 1504 464
WIRE 1808 464 1776 464
WIRE -416 528 -416 464
WIRE -256 528 -256 464
WIRE -656 544 -656 496
WIRE -64 544 -64 496
WIRE 32 544 -64 544
WIRE 144 544 144 448
WIRE 144 544 32 544
WIRE 32 576 32 544
WIRE 1504 576 1504 464
WIRE 1584 576 1504 576
WIRE 1776 576 1776 464
WIRE 1776 576 1664 576
WIRE 1776 592 1776 576
WIRE 1776 800 1776 672
FLAG -1072 -864 +V
FLAG -1072 -576 -V
FLAG 256 272 +V
FLAG 256 384 -V
FLAG 1232 256 +V
FLAG 1232 368 -V
FLAG 2112 304 out
FLAG -656 544 0
FLAG -416 528 0
FLAG -256 528 0
FLAG 192 144 0
FLAG 160 -64 0
FLAG -528 -16 0
FLAG -528 -128 1
FLAG 80 -336 0
FLAG 80 -384 1
FLAG -272 -464 0
FLAG -224 -192 0
FLAG 32 576 0
FLAG 176 -144 0
FLAG 1584 480 -V
FLAG 1840 480 -V
FLAG 1584 416 +V
FLAG 1840 416 +V
FLAG 1440 384 +V
FLAG 1776 800 -V
FLAG -560 -656 0
FLAG -608 352 in
FLAG -528 -736 mid
FLAG -368 144 -V
FLAG -368 -128 +V
FLAG 192 96 0
FLAG -96 64 0
FLAG 1184 128 0
FLAG 1072 -352 0
FLAG 720 -480 0
FLAG 624 128 -V
FLAG 624 -144 +V
FLAG 1072 -400 1
FLAG 1184 80 0
SYMBOL res -288 336 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R3
SYMATTR Value 50k
SYMBOL voltage -1072 -832 R0
SYMATTR InstName V2
SYMATTR Value 2.5
SYMBOL voltage -656 400 R0
SYMATTR InstName V4
SYMATTR Value .1µ
SYMBOL res -416 336 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R10
SYMATTR Value 50k
SYMBOL cap -432 400 R0
SYMATTR InstName C1
SYMATTR Value .1µ
SYMBOL cap -272 400 R0
SYMATTR InstName C2
SYMATTR Value .1µ
SYMBOL sw 144 176 R180
SYMATTR InstName S2
SYMATTR Value 4066
SYMBOL sw 112 -32 R180
SYMATTR InstName S3
SYMATTR Value 4066
SYMBOL res 320 -224 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R6
SYMATTR Value 10k
SYMBOL voltage -528 -144 R0
SYMATTR InstName V1
SYMATTR Value 1
SYMBOL sw 32 -304 R180
SYMATTR InstName S4
SYMATTR Value 4066
SYMBOL res 320 -496 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R1
SYMATTR Value 100k
SYMBOL res -112 -496 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R8
SYMATTR Value 100
SYMBOL res -128 -224 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R9
SYMATTR Value 100
SYMBOL npn -128 400 R0
SYMATTR InstName Q1
SYMATTR Value 2N3904
SYMBOL npn 96 496 R180
SYMATTR InstName Q2
SYMATTR Value 2N3904
SYMBOL res 160 336 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R11
SYMATTR Value 1k
SYMBOL Opamps/LTC1150 256 256 R0
SYMATTR InstName U3
SYMBOL Opamps/LT1013 1584 384 R0
SYMATTR InstName U2
SYMBOL Opamps/LT1013 1840 384 R0
SYMATTR InstName U4
SYMBOL diode 1648 352 R0
SYMATTR InstName D1
SYMATTR Value 1N4148
SYMBOL diode 1936 416 R180
WINDOW 0 24 64 Left 2
WINDOW 3 -73 4 Left 2
SYMATTR InstName D2
SYMATTR Value 1N4148
SYMBOL res 1488 288 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R12
SYMATTR Value 1k
SYMBOL res 1424 368 R0
SYMATTR InstName R15
SYMATTR Value 12k
SYMBOL res 1760 576 R0
SYMATTR InstName R16
SYMATTR Value 12k
SYMBOL res 1680 560 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R17
SYMATTR Value 18k
SYMBOL voltage -1072 -736 R0
SYMATTR InstName V3
SYMATTR Value 2.5
SYMBOL Opamps/LT1010 -752 -800 R0
SYMATTR InstName U6
SYMBOL res -880 -848 R0
SYMATTR InstName R13
SYMATTR Value 1k
SYMBOL res -880 -704 R0
SYMATTR InstName R14
SYMATTR Value 1k
SYMBOL res -752 -864 R0
SYMATTR InstName R18
SYMATTR Value 100
SYMBOL cap -672 -688 R0
SYMATTR InstName C3
SYMATTR Value .1µ
SYMBOL cap -928 -688 R0
SYMATTR InstName C4
SYMATTR Value 1n
SYMBOL res -384 -144 R0
SYMATTR InstName R19
SYMATTR Value 970k415
SYMBOL res -384 48 R0
SYMATTR InstName R20
SYMATTR Value 1Meg
SYMBOL res -128 -16 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R21
SYMATTR Value 1Meg
SYMBOL cap 272 160 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName C5
SYMATTR Value .47µ
SYMBOL res 336 48 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R22
SYMATTR Value 900
SYMBOL res 0 48 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R23
SYMATTR Value 100
SYMBOL Opamps/LTC1150 1232 240 R0
SYMATTR InstName U1
SYMBOL sw 1136 160 R180
SYMATTR InstName S1
SYMATTR Value 4066
SYMBOL sw 1024 -320 R180
SYMATTR InstName S7
SYMATTR Value 4066
SYMBOL res 1312 -512 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R5
SYMATTR Value 100k
SYMBOL res 880 -512 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R24
SYMATTR Value 100
SYMBOL res 608 -160 R0
SYMATTR InstName R26
SYMATTR Value 1Meg
SYMBOL res 608 32 R0
SYMATTR InstName R27
SYMATTR Value 1Meg
SYMBOL res 864 -32 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R28
SYMATTR Value 1Meg
SYMBOL cap 1264 144 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName C6
SYMATTR Value .47µ
TEXT -536 -656 Left 2 !.tran 1
TEXT 304 16 Left 2 ;x1
TEXT 448 -216 Left 2 ;x100
TEXT 448 -488 Left 2 ;x1000
TEXT 416 64 Left 2 ;x10
TEXT -712 720 Left 2 !.model 4066 SW(Ron=100 Roff=1000Meg Vt=.5 Vh=0)
TEXT 1440 -232 Left 2 ;x100
TEXT 1440 -504 Left 2 ;x1000
TEXT 1408 48 Left 2 ;x1
